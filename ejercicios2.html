<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Paso a Paso - Ejercicios</title>
    
    <!-- CSS principal -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Meta tags -->
    <meta name="description" content="Ejercicios prácticos de Java para reforzar los conceptos aprendidos.">
    
    <!-- Estilos adicionales específicos para ejercicios (sin modificar style.css) -->
    <style>
        /* Ajustes para las tarjetas de ejercicio y botones de solución */
        .ejercicios-section {
            margin-top: 2rem;
        }
        .ejercicio-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            margin-bottom: 2.5rem;
            overflow: hidden;
            border: 1px solid #e9ecef;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .ejercicio-card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .ejercicio-header {
    background: var(--secondary-color);  /* Azul oscuro del tema */
    padding: 1.2rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 1px solid rgba(255,255,255,0.1); /* Línea sutil */
}

.ejercicio-header i {
    font-size: 1.8rem;
    color: var(--primary-color);  /* El icono en naranja para que resalte */
}

.ejercicio-header h3 {
    margin: 0;
    flex: 1;
    font-size: 1.3rem;
    color: white;  /* Texto del título en blanco */
}

.ejercicio-dificultad {
    background: var(--primary-color);  /* Naranja */
    color: white;
    padding: 0.3rem 1rem;
    border-radius: 30px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
        .ejercicio-dificultad {
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 30px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .ejercicio-body {
            padding: 1.5rem;
        }
        .enunciado {
            background: #f8f9fa;
            padding: 1.2rem;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            margin-bottom: 1.5rem;
            font-size: 1.05rem;
        }
        .pistas {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            display: flex;
            gap: 1rem;
            align-items: flex-start;
        }
        .pistas i {
            font-size: 1.5rem;
            color: #856404;
        }
        .pistas-content h4 {
            margin: 0 0 0.3rem 0;
            color: #856404;
        }
        .pistas-content ul {
            margin: 0;
            padding-left: 1.2rem;
        }
        
        /* Botón de solución propio (no interfiere con el de script.js) */
        .btn-solucion {
            background: linear-gradient(135deg, var(--primary-color), #e07c1b);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 0.7rem 1.8rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            margin: 1rem 0 0.5rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .btn-solucion:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
            background: linear-gradient(135deg, var(--secondary-color), #3a6a8f);
        }
        .btn-solucion:active {
            transform: translateY(0);
        }
        
        /* Contenedor de respuesta oculto por defecto */
        .respuesta-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, opacity 0.3s;
            opacity: 0;
            margin-top: 0;
        }
        .respuesta-container.visible {
            max-height: 2000px; /* suficientemente grande para contener el contenido */
            opacity: 1;
            margin-top: 1.5rem;
        }
        .respuesta-content {
            background: #f0f7ff;
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid #cce5ff;
        }
        .respuesta-content h4 {
            color: var(--secondary-color);
            margin-top: 0;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .explicacion {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 3px solid #17a2b8;
        }
        .nota-ejercicio {
            background: #d4edda;
            color: #155724;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            margin-top: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        .respuesta-botones {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        .btn-solucion-secundario {
            background: linear-gradient(135deg, #6c757d, #495057);
        }
        .btn-solucion-secundario:hover {
            background: linear-gradient(135deg, #5a6268, #343a40);
        }
        
        /* Asegurar que los botones de copiar se vean bien dentro de respuestas */
        .respuesta-container .code-block {
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- Contenedores para los componentes (se cargan con JS) -->
    <div id="menu-container"></div>
    <div id="header-container"></div>

    <!-- Contenido principal -->
    <main class="container">
        <!-- Puedes cambiar el ID y título según la página -->
        <section id="ejercicios-inicio" class="content-section">
            <h2><i class="fas fa-dumbbell"></i> Ejercicios de Java</h2>
            <p>Aquí encontrarás ejercicios prácticos para afianzar los conceptos. Haz clic en "Mostrar solución" para ver una posible implementación.</p>          
             <p class="nota-ejercicio"><i class="fas fa-info-circle"></i> Nota: Estas son soluciones de ejemplo. En programación, existen múltiples formas de resolver un problema. ¡Siéntete libre de experimentar y encontrar tu propia solución!</p>
        </section>

        <section id="ej2-1" class="ejercicios-section">
            <div class="ejercicio-card">
                <div class="ejercicio-header">
                    <i class="fas fa-pen-nib"></i>
                    <h3>Ejercicio 1: Mas de cinco</h3>
                    <span class="ejercicio-dificultad">Fácil</span>
                </div>
                <div class="ejercicio-body">
                    <div class="enunciado">
                        <p>Pide por consola seis palabras y despues muestra las que tienen más de cinco letras y di cuantas hay.</p>
                    </div>
                    <div class="pistas">
                        <i class="fas fa-lightbulb"></i>
                        <div class="pistas-content">
                            <h4>Pistas:</h4>
                            <ul>
                                <li>Usa un Scanner para leer las palabras desde la consola.</li>
                                <li>Almacena las palabras en un array de Strings.</li>
                                <li>Usa el método <code>length()</code> para comprobar la longitud de cada palabra.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Botón de solución (clase propia) -->
                    <button class="btn-solucion" data-target="respuesta1">
                        <i class="fas fa-eye"></i> Mostrar solución
                    </button>

                    <!-- Respuesta oculta -->
                    <div id="respuesta1" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución</h4>
                            <div class="explicacion">
                                <p>Se crea un array de Strings para almacenar las palabras ingresadas por el usuario. Luego se recorre el array y se cuenta cuántas palabras tienen una longitud mayor o igual a cinco caracteres y las muestra, mostrando el resultado al final.</p>
                            </div>
                            <div class="code-block complete">
                                <pre><code>import java.util.Scanner;

public class masdecinco {

	public static void main(String[] args) {

		Scanner sc = new Scanner(System.in);
		int masCinco = 0;
		
		String[] palabras = new String[6];
		
		System.out.println("introduce " + palabras.length + " palabras:");
		for(int i=0; i<palabras.length; i++) {
			System.out.println("- " + i + ".- ");
			palabras[i] = sc.nextLine();
		}
		
		for (String palabra : palabras ) {
			if (palabra.length() >= 5) {
				masCinco++;
				System.out.println(palabra);
			}
		}
		
		System.out.println("Hay un total de " + masCinco + " palabras con mas de cinco carcteres");
		
		sc.close();
	}

}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ej2-2" class="ejercicios-section">
            <div class="ejercicio-card">
                <div class="ejercicio-header">
                    <i class="fas fa-box"></i>
                    <h3>Ejercicio 2: Mochila</h3>
                    <span class="ejercicio-dificultad">Media</span>
                </div>
                <div class="ejercicio-body">
                    <div class="enunciado">
                        <p>Tienes una lista de objetos con sus respectivos pesos y una mochila con una capacidad máxima de 5. Escribe un programa que determine qué objetos puedes llevar en la mochila sin exceder su capacidad.</p>
                        <p>Crea un total de 5 objetos con sus respectivos pesos que sean inferiores a 4. Mostrando al final los objetos que caben en la mochila.</p>                        
                    </div>

                    <div class="respuesta-botones">
                        <button class="btn-solucion" data-target="respuesta2-basica">
                            <i class="fas fa-eye"></i>Mostrar solución
                        </button>
                    </div>

                    <!-- Solución básica -->
                    <div id="respuesta2-basica" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución</h4>
                            <div class="explicacion">
                                <p>Se crea un array de objetos y otro de pesos. Luego se recorre el array de objetos y se va sumando el peso de cada objeto a una variable que representa el peso actual de la mochila. Si al sumar el peso del siguiente objeto no se excede la capacidad máxima, se añade ese objeto a la mochila. Finalmente, se muestra el contenido de la mochila.</p>
                            </div>
                            <div class="code-block complete">
                                <pre><code>public class Mochila {

	public static void main(String[] args) {

		String[] objetos = {"Poción", "Mapa", "Llave", "Moneda", "Antorcha"};
		int[] pesos = {2, 1, 1, 1, 3};
		
		String[] mochila = new String[objetos.length];
		int pesoMaximo = 5;
		int pesoMochila = 0;
		int contador = 0;		
		
		while ( pesoMochila < pesoMaximo && contador < mochila.length ) {
			
			if (pesoMochila + pesos[contador] <= pesoMaximo) {
				mochila[contador] = objetos[contador];
				contador++;		
				pesoMochila = pesoMochila + pesos[contador];
			}
						
		}
		System.out.println("La mochila lleva:");
		for (int i=0; i < mochila.length; i++) {
			if (mochila[i] != null) System.out.println(mochila[i]);
		}
					
	}

}</code></pre>
                            </div>
                            <p class="explicacion">
                                En esta solución se asume que los objetos se añaden a la mochila en el orden dado. Si el peso del siguiente objeto no excede la capacidad máxima, se añade a la mochila. Este enfoque es simple y directo, pero no garantiza que se obtenga la mejor combinación de objetos para maximizar el uso de la capacidad de la mochila.
                            </p>    
                            <p class="nota-ejercicio"><i class="fas fa-info-circle"></i> Nota: Esta solución es un enfoque simple y directo. En problemas de mochila más complejos, se pueden usar algoritmos más avanzados como backtracking o programación dinámica para encontrar la mejor combinación de objetos.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ej2-3" class="ejercicios-section">
            <div class="ejercicio-card">
                <div class="ejercicio-header">
                    <i class="fas fa-star"></i>
                    <h3>Ejercicio 3: Deseos</h3>
                    <span class="ejercicio-dificultad">Media</span>
                </div>
                <div class="ejercicio-body">
                    <div class="enunciado">
                        <p>Crea un programa que permita al usuario ingresar una lista de deseos. El programa debe seguir pidiendo deseos hasta que el usuario escriba "fin". Luego, muestra la lista completa de deseos.</p>
                    </div>

                    <button class="btn-solucion" data-target="respuesta3">
                        <i class="fas fa-eye"></i> Mostrar solución 1
                    </button>
                    <button class="btn-solucion" data-target="respuesta3b">
                        <i class="fas fa-eye"></i> Mostrar solución 2
                    </button>

                    <div id="respuesta3" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución 1</h4>
                            <div class="explicacion">
                                <p>Se utiliza un ArrayList para almacenar los deseos ingresados por el usuario. Se pide al usuario que ingrese deseos hasta que escriba "fin". Luego se muestra la lista de deseos.</p>
                            </div>
                            <div class="code-block complete">
                                <pre><code>import java.util.Scanner;
import java.util.ArrayList;

public class Deseos {

	public static void main(String[] args) {

		Scanner sc = new Scanner(System.in);
		ArrayList<String> deseos = new ArrayList<>();
		
		String palabra = "";
		
		do{
			System.out.println("Escribe un deseo o fin para Salir:");
			palabra = sc.nextLine();
			
			if (!palabra.equals("fin")) {
				deseos.add(palabra);
			}
		} while (!palabra.equals("fin"));
		
		System.out.println("Tu lista de deseos es ... ");
		for( String deseo : deseos) {
			System.out.println(deseo);
		}
						
		sc.close();
	}

}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="respuesta3b" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución 2 </h4>
                            <div class="explicacion">
                                <p>En esta solución utilizamos metodos separados para mejorar la modularidad del código. El método <code>pedirUnDeseo</code> se encarga de pedir un deseo al usuario y luego almacena los deseos en una lista, mientras que el método <code>mostrarDeseos</code> se encarga de mostrar la lista de deseos al usuario.</p>
                            </div>
                            <div class="code-block complete">
                                <pre><code>import java.util.Scanner;
import java.util.ArrayList;

public class DeseosMetodos {

    public static String pedirUnDeseo(Scanner sc) {
        System.out.println("Escribe un deseo o fin para Salir:");
        return sc.nextLine();
    }
        
    public static void mostrarDeseos(ArrayList<String> deseos) {
        System.out.println("Tu lista de deseos es ... ");
        for( String deseo : deseos) {
            System.out.println(deseo);
        }
    }

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        ArrayList<String> deseos = new ArrayList<>();
        String palabra = "";
        
        do{
            palabra = pedirUnDeseo(sc);
            
            if (!palabra.equals("fin")) {
                deseos.add(palabra);
            }
        } while (!palabra.equals("fin"));

        mostrarDeseos(deseos);
        
        sc.close();
    }
}</code></pre>
                            </div>
                            <div class="explicacion">
                                <p>Esta versión es más modular: cada método tiene una responsabilidad única. Esto mejora la legibilidad y facilita el mantenimiento del código, ya que cada parte del programa está claramente definida y separada.</p>
                            </div>                           
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ej2-4" class="ejercicios-section">
            <div class="ejercicio-card">
                <div class="ejercicio-header">
                    <i class="fas fa-list"></i>
                    <h3>Ejercicio 4: Lista de números</h3>
                    <span class="ejercicio-dificultad">Media</span>
                </div>
                <div class="ejercicio-body">
                    <div class="enunciado">
                        <p>Escribe un programa que permita al usuario ingresar una lista de números enteros. El programa debe seguir pidiendo números hasta que el usuario ingrese el número 0. Luego, muestra la cantidad de números ingresados, la suma de todos los números y el promedio.</p>
                    </div>

                    <button class="btn-solucion" data-target="respuesta4">
                        <i class="fas fa-eye"></i> Mostrar solución 1
                    </button>
                    <button class="btn-solucion" data-target="respuesta4b">
                        <i class="fas fa-eye"></i> Mostrar solución 2
                    </button>
                    
                    <div id="respuesta4" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución</h4>
                            <div class="explicacion">
                                <p>Se utiliza un ArrayList para almacenar los números ingresados por el usuario. Se pide al usuario que ingrese números hasta que escriba 0. Luego se recorre la lista de números para calcular la suma y el promedio, y se muestra la cantidad de números ingresados, la suma total y el promedio.</p>
                            </div>
                            <div class="code-block complete">
                                <pre><code>import java.util.Scanner;
import java.util.ArrayList;

public class listanumeros {

	public static void main(String[] args) {

		Scanner sc = new Scanner(System.in);
		ArrayList<Integer> listado = new ArrayList<>();
		int num;
		int suma = 0;
		double promedio;
		
		System.out.println("Introduce numeros (0:fin)");
				
		do {
			num = sc.nextInt();
			if (num != 0) {
				listado.add(num);
			}
		} while (num != 0);
		
		for( int numero: listado) {
			suma = suma + numero;
		}
		
		System.out.println("Hay " + listado.size() + " numeros en la lista");
		System.out.println("La suma de todos sus valores es: " + suma);
		promedio = (double)suma / listado.size();
		System.out.printf("La media de todos los numeros es: %.2f", promedio);
		
		sc.close();
	}

}</code></pre>
                            </div>
                        </div>
                    </div>
                    <div id="respuesta4b" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución 2</h4>
                            <div class="explicacion">
                                <p>En esta solución se utiliza un enfoque con un bucle <code>while</code> para leer los números ingresados por el usuario. Se mantiene un contador para la cantidad de números, una variable para la suma total y se calcula el promedio al final. El bucle continúa hasta que el usuario ingresa 0.</p>
                            </div>
                            <div class="code-block complete">                                
                                <pre><code>import java.util.Scanner;

public class ListaNumerosWhile {
    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);
        int num = -1; // Inicializamos con un valor distinto de 0 para entrar al bucle
        int suma = 0;
        int contador = 0;
        double promedio;
                
        while (num != 0) {
            System.out.println("Introduce número (0:fin)");
            num = sc.nextInt();
            suma += num;
            contador++;
        }

        System.out.println("Hay " + contador + " números en la lista");
        System.out.println("La suma de todos sus valores es: " + suma);
        promedio = (double)suma / contador;
        System.out.printf("La media de todos los números es: %.2f", promedio);
        
        sc.close();
    }
}</code></pre>
                            </div>
                            <div class="explicacion">
                                <p>Esta versión utiliza un bucle <code>while</code> para leer los números ingresados por el usuario y se asegura que entre en el bucle al inicializar <code>num</code> con un valor distinto de 0. Se mantiene un contador para la cantidad de números, una variable para la suma total y se calcula el promedio al final. El bucle continúa hasta que el usuario ingresa 0.</p>
                            </div>   
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- EJERCICIO 5 CORREGIDO -->
        <section id="ej2-5" class="ejercicios-section">
            <div class="ejercicio-card">
                <div class="ejercicio-header">
                    <i class="fas fa-table"></i>
                    <h3>Ejercicio 5: Tabla de multiplicar</h3>
                    <span class="ejercicio-dificultad">Media</span>
                </div>
                <div class="ejercicio-body">
                    <div class="enunciado">
                        <p>Escribe un programa que pida al usuario un número entre 1 y 10, y luego muestre la tabla de multiplicar de ese número. El programa debe seguir pidiendo números hasta que el usuario ingrese el número 0 para salir.</p>
                    </div>

                    <button class="btn-solucion" data-target="respuesta5">
                        <i class="fas fa-eye"></i> Mostrar solución 1
                    </button>
                    <button class="btn-solucion" data-target="respuesta5b">
                        <i class="fas fa-eye"></i> Mostrar solución 2
                    </button>

                    <!-- Solución 1 -->
                    <div id="respuesta5" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución 1</h4>
                            <div class="explicacion">
                                <p>Se utiliza un bucle <code>do-while</code> para seguir pidiendo números al usuario hasta que ingrese 0. Dentro del bucle, se valida que el número ingresado esté entre 1 y 10. Si el número es válido, se muestra la tabla de multiplicar correspondiente utilizando un bucle <code>for</code>.</p> 
                            </div>
                            <div class="code-block complete">
                                <pre><code>
import java.util.Scanner;

public class TablaMultiplicar {

	public static void main(String[] args) {
		
		Scanner sc = new Scanner(System.in);
		
		int numero;		
		
		do{
			numero = -1;
			while (numero <0 || numero > 10) {
				System.out.println("Dime un numero entre 1 y el 10 :");
				numero = sc.nextInt();
			    if (numero <0 || numero > 10) {
			    	System.out.println("Ese numero no es valido!.");
					sc.nextLine();	
			    }						
			}
			
			if (numero != 0) {
				
				System.out.println("Tabla del " + numero);
				
				for (int i=1; i<=10; i++) {
					System.out.println(" " + numero + " * " + i + " = " + numero*i );
				}
			}
		} while (numero != 0);
		
		sc.close();
	}

}
</code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Solución 2 -->
                    <div id="respuesta5b" class="respuesta-container">
                        <div class="respuesta-content">
                            <h4><i class="fas fa-check-circle"></i> Solución 2</h4>
                            <div class="explicacion">                                
                                <p>Se utilizan métodos para mejorar la organización del código. El método <code>pedirNumero</code> se encarga de solicitar un número al usuario y validar que esté entre 1 y 10, mientras que el método <code>mostrarTabla</code> se encarga de mostrar la tabla de multiplicar del número ingresado. El bucle principal sigue pidiendo números hasta que el usuario ingresa 0 para salir.</p>
                            </div>
                            <div class="code-block complete">
                                <pre><code>
import java.util.Scanner;

public class TablaMultiplicarConMetodos {

	public static int pedirNumero(Scanner sc) {
		int numero = -1;
		while (numero <0 || numero > 10) {
			System.out.println("Dime un numero entre 1 y el 10 :");
			numero = sc.nextInt();
		    if (numero <0 || numero > 10) {
		    	System.out.println("Ese numero no es valido!.");
				sc.nextLine();	
		    }						
		}
		return numero;
	}
	
	public static void mostrarTabla(int num) {
		System.out.println("Tabla del " + num);
		
		for (int i=1; i<=10; i++) {
			System.out.println(" " + num + " * " + i + " = " + num*i );
		}
	}

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		
		int numero;		
		
		do{
			numero = pedirNumero(sc);
			
			if (numero != 0) {
				mostrarTabla(numero);
			}
			
		} while (numero != 0);
		
		sc.close();
	}

}</code></pre>
                            </div>                       
                        </div>
                    </div>

                    

                </div> <!-- cierra ejercicio-body -->
            </div> <!-- cierra ejercicio-card -->

            <!-- Nota adicional fuera de la tarjeta, dentro de la sección -->
            <div class="nota-ejercicio">
                <i class="fas fa-info-circle"></i> Recuerda que estas son solo soluciones de ejemplo. En programación, existen múltiples formas de resolver un problema. ¡Siéntete libre de experimentar y encontrar tu propia solución!
            </div>
        </section>

        <!-- Botón de navegación opcional -->
        <div class="next-steps">
            <i class="fas fa-puzzle-piece"></i> Practica con estos ejercicios y luego revisa las soluciones.
        </div>
    </main>

    <!-- Footer -->
    <div id="footer-container"></div>

    <!-- Configuración de la página actual (para el header) -->
    <script>
        const PAGINA_CONFIG = {
            id: 'ejercicios2',
            titulo: 'Ejercicios de Java',
            subtitulo: 'Practica y refuerza tus conocimientos'
        };
    </script>

    <!-- Script principal (carga componentes y funciones comunes) -->
    <script src="js/script.js"></script>

    <!-- Script propio para los botones de solución (no interfiere con script.js) -->
    <script>
        (function() {
            // Función para alternar visibilidad de las respuestas
            function toggleRespuesta(btn) {
                const targetId = btn.getAttribute('data-target');
                const target = document.getElementById(targetId);
                if (!target) return;

                if (target.classList.contains('visible')) {
                    target.classList.remove('visible');
                    btn.innerHTML = btn.innerHTML.replace('Ocultar', 'Mostrar');
                } else {
                    target.classList.add('visible');
                    btn.innerHTML = btn.innerHTML.replace('Mostrar', 'Ocultar');
                    
                    // Reinicializar los botones de copiar dentro del nuevo contenido visible
                    if (typeof setupCopyButtons === 'function') {
                        setupCopyButtons();
                    } else {
                        // Si setupCopyButtons no está disponible (por algún motivo), llamamos a una función local
                        inicializarBotonesCopiarEn(target);
                    }
                }
            }

            // Inicializar botones de copiar dentro de un contenedor (fallback)
            function inicializarBotonesCopiarEn(container) {
                const codeBlocks = container.querySelectorAll('.code-block:not(.has-copy-button)');
                codeBlocks.forEach(block => {
                    // Evitar duplicados
                    if (block.querySelector('.copy-button')) return;
                    
                    const pre = block.querySelector('pre');
                    if (!pre) return;
                    
                    const btn = document.createElement('button');
                    btn.className = 'copy-button';
                    btn.innerHTML = '<i class="fas fa-copy"></i> <span>Copiar</span>';
                    
                    if (window.getComputedStyle(block).position === 'static') {
                        block.style.position = 'relative';
                    }
                    
                    block.appendChild(btn);
                    block.classList.add('has-copy-button');
                    
                    btn.addEventListener('click', async (e) => {
                        e.stopPropagation();
                        const code = pre.textContent.trim();
                        try {
                            if (navigator.clipboard && window.isSecureContext) {
                                await navigator.clipboard.writeText(code);
                                mostrarMensaje(block, '✅ Código copiado', 'success');
                            } else {
                                fallbackCopy(code, block);
                            }
                        } catch {
                            fallbackCopy(code, block);
                        }
                    });
                });
            }

            function mostrarMensaje(block, texto, tipo) {
                const msg = document.createElement('div');
                msg.className = 'copy-message';
                msg.textContent = texto;
                if (tipo === 'success') msg.style.borderLeftColor = '#28a745';
                block.appendChild(msg);
                setTimeout(() => msg.remove(), 2000);
            }

            function fallbackCopy(text, block) {
                const ta = document.createElement('textarea');
                ta.value = text;
                document.body.appendChild(ta);
                ta.select();
                try {
                    document.execCommand('copy');
                    mostrarMensaje(block, '✅ Copiado', 'success');
                } catch {
                    alert('No se pudo copiar');
                }
                document.body.removeChild(ta);
            }

            // Asignar evento a todos los botones de solución (incluso los que se creen dinámicamente)
            document.addEventListener('click', function(e) {
                const btn = e.target.closest('.btn-solucion');
                if (btn) {
                    e.preventDefault();
                    toggleRespuesta(btn);
                }
            });

            // Inicializar botones de copiar que ya estén en la página al cargar
            window.addEventListener('load', function() {
                if (typeof setupCopyButtons === 'function') {
                    setupCopyButtons();
                } else {
                    inicializarBotonesCopiarEn(document);
                }
            });
        })();
    </script>
</body>
</html>